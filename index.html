<html>
<head>
    <style>
        #demo {
            position: relative;
        }

        .group {
            border: 1px solid black;
            box-sizing: border-box;
            background-color: red;
            position: absolute;
        }

        .item {
            display: inline-block;
            width: 7px;
            height: 7px;
            margin: 1px;
            border: 1px solid black;
            box-sizing: border-box;
            background-color: yellow;
            border-radius: 8px;
        }
    </style>
    <script type="module">
        import {QuantumDiscreteTreemap} from "./QuantumDiscreteTreemap.js"

        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        let sizes = [];
        const amountOfGroups = getRandomInt(5, 15);
        for (let i = 0; i < amountOfGroups; i++) {
            sizes.push(getRandomInt(1, 40));
        }

        const itemSize = 10;

        var w = 600;
        var h = 300;
//        sizes = [9, 12, 44, 74, 16, 74, 19, 6, 25, 76, 29, 36, 14, 38, 96, 7, 73];

        var qt = new QuantumDiscreteTreemap(sizes, 1, {
            x: 0,
            y: 0,
            width: w,
            height: h
        }, 0, 0);
        var rects = qt.quantumLayout();

        console.log(rects);

        const inputDataDom = document.querySelector('#input-data');
        const demoDom = document.querySelector('#demo');

        inputDataDom.innerText = sizes.toString();
        rects.map((rect, i) => {
            let groupDom = document.createElement('div');
            groupDom.setAttribute('class', 'group');
            groupDom.style.left = rect.x * itemSize;
            groupDom.style.top = rect.y * itemSize;
            groupDom.style.width = rect.width * itemSize;
            groupDom.style.height = rect.height * itemSize;
            demoDom.appendChild(groupDom);

            for (let j = 0; j < sizes[i]; j++) {
                let itemDom = document.createElement('div');
                itemDom.setAttribute('class', 'item');
                groupDom.appendChild(itemDom);
            }

        });

    </script>
</head>
<body>
<div id="label">Quantum Treemap for data: [<span id="input-data"></span>]</div>
<div id="demo"></div>
</body>
</html>